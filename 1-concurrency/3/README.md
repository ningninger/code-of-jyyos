理解原子操作的假设：
+ 操作本身是不可被打破的
+ 自带`compiler barrier`，防止优化函数调用，仔细思考`table = YES`的不安全性
+ 自带`memory barrier`，保证操作执行前指令的写入，能对其他处理器之后的load可见

两种方式实现互斥：
+ 自旋锁 
+ 互斥锁(操作系统支持) 
